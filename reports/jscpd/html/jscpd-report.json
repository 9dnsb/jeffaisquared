{
  "statistics": {
    "detectionDate": "2025-09-18T11:50:38.217Z",
    "formats": {
      "typescript": {
        "sources": {
          "src/app/api/conversations/[id]/route.ts": {
            "lines": 354,
            "tokens": 2775,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 112,
            "duplicatedTokens": 892,
            "percentage": 31.64,
            "percentageTokens": 32.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/session/route.ts": {
            "lines": 33,
            "tokens": 342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/session/route.test.ts": {
            "lines": 85,
            "tokens": 699,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/reset-password/route.ts": {
            "lines": 43,
            "tokens": 363,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/reset-password/route.test.ts": {
            "lines": 201,
            "tokens": 1192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/register/route.ts": {
            "lines": 8,
            "tokens": 85,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/register/route.test.ts": {
            "lines": 45,
            "tokens": 208,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/logout/route.ts": {
            "lines": 30,
            "tokens": 264,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/logout/route.test.ts": {
            "lines": 118,
            "tokens": 975,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/login/route.ts": {
            "lines": 39,
            "tokens": 400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/login/route.test.ts": {
            "lines": 184,
            "tokens": 1277,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/forgot-password/route.ts": {
            "lines": 31,
            "tokens": 277,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/forgot-password/route.test.ts": {
            "lines": 143,
            "tokens": 946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/conversations/route.ts": {
            "lines": 201,
            "tokens": 1545,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/chat/route.ts": {
            "lines": 524,
            "tokens": 3993,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/validation/schemas.ts": {
            "lines": 267,
            "tokens": 3112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/typeGuards.ts": {
            "lines": 195,
            "tokens": 1390,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/serialization.ts": {
            "lines": 170,
            "tokens": 1438,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/logger.ts": {
            "lines": 299,
            "tokens": 2716,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/conversations.ts": {
            "lines": 681,
            "tokens": 5295,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 184,
            "percentage": 2.64,
            "percentageTokens": 3.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/prisma/safeQueryBuilder.ts": {
            "lines": 420,
            "tokens": 3333,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 69,
            "duplicatedTokens": 664,
            "percentage": 16.43,
            "percentageTokens": 19.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/index.ts": {
            "lines": 88,
            "tokens": 511,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/errors.ts": {
            "lines": 115,
            "tokens": 721,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/ai.ts": {
            "lines": 45,
            "tokens": 314,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/intentClassifier.ts": {
            "lines": 574,
            "tokens": 3745,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/generalChatHandler.ts": {
            "lines": 663,
            "tokens": 4864,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 201,
            "percentage": 3.47,
            "percentageTokens": 4.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/dataQueryHandler.ts": {
            "lines": 801,
            "tokens": 6056,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 154,
            "percentage": 1.12,
            "percentageTokens": 2.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/clarificationHandler.ts": {
            "lines": 584,
            "tokens": 4155,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 201,
            "percentage": 3.94,
            "percentageTokens": 4.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/prisma-extensions.ts": {
            "lines": 123,
            "tokens": 935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/openai.ts": {
            "lines": 97,
            "tokens": 593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/chat.ts": {
            "lines": 346,
            "tokens": 2585,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/test-utils.ts": {
            "lines": 473,
            "tokens": 4042,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/setup.ts": {
            "lines": 28,
            "tokens": 215,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/registration-handler.ts": {
            "lines": 64,
            "tokens": 551,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/registration-handler.test.ts": {
            "lines": 209,
            "tokens": 1731,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/profile-utils.ts": {
            "lines": 40,
            "tokens": 271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/profile-utils.test.ts": {
            "lines": 92,
            "tokens": 533,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth-api-utils.ts": {
            "lines": 102,
            "tokens": 942,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth-api-utils.test.ts": {
            "lines": 306,
            "tokens": 2855,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthRedirect.ts": {
            "lines": 34,
            "tokens": 265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthForm.ts": {
            "lines": 69,
            "tokens": 649,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware.ts": {
            "lines": 71,
            "tokens": 439,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware.test.ts": {
            "lines": 150,
            "tokens": 1254,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 9145,
          "tokens": 70851,
          "sources": 43,
          "clones": 10,
          "duplicatedLines": 127,
          "duplicatedTokens": 1148,
          "percentage": 1.39,
          "percentageTokens": 1.62,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "src/app/auth/reset-password/page.tsx": {
            "lines": 51,
            "tokens": 366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/register/page.tsx": {
            "lines": 36,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/login/page.tsx": {
            "lines": 18,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/forgot-password/page.tsx": {
            "lines": 17,
            "tokens": 120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/LoadingSpinner.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthMessages.test.tsx": {
            "lines": 100,
            "tokens": 839,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthLayout.test.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.tsx": {
            "lines": 9,
            "tokens": 57,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.test.tsx": {
            "lines": 40,
            "tokens": 353,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.tsx": {
            "lines": 7,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.test.tsx": {
            "lines": 96,
            "tokens": 826,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthEmailPasswordInputs.test.tsx": {
            "lines": 89,
            "tokens": 749,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.tsx": {
            "lines": 0,
            "tokens": 5,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.test.tsx": {
            "lines": 10,
            "tokens": 77,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/dashboard/page.tsx": {
            "lines": 12,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/chat/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MarkdownMessage.tsx": {
            "lines": 19,
            "tokens": 285,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ConversationList.tsx": {
            "lines": 130,
            "tokens": 974,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatInterface.tsx": {
            "lines": 104,
            "tokens": 833,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatGPTInterface.tsx": {
            "lines": 205,
            "tokens": 1787,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/layout.tsx": {
            "lines": 0,
            "tokens": 15,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 943,
          "tokens": 7788,
          "sources": 21,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "tsx": {
        "sources": {
          "src/app/auth/reset-password/page.tsx": {
            "lines": 143,
            "tokens": 1231,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/register/page.tsx": {
            "lines": 81,
            "tokens": 672,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/login/page.tsx": {
            "lines": 56,
            "tokens": 458,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/forgot-password/page.tsx": {
            "lines": 65,
            "tokens": 551,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/LoadingSpinner.tsx": {
            "lines": 10,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/LoadingSpinner.test.tsx": {
            "lines": 28,
            "tokens": 325,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthMessages.tsx": {
            "lines": 20,
            "tokens": 147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthMessages.test.tsx": {
            "lines": 117,
            "tokens": 1005,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthLayout.tsx": {
            "lines": 18,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthLayout.test.tsx": {
            "lines": 148,
            "tokens": 1191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.tsx": {
            "lines": 39,
            "tokens": 252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.test.tsx": {
            "lines": 95,
            "tokens": 874,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.tsx": {
            "lines": 49,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.test.tsx": {
            "lines": 129,
            "tokens": 1138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthEmailPasswordInputs.tsx": {
            "lines": 70,
            "tokens": 596,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthEmailPasswordInputs.test.tsx": {
            "lines": 144,
            "tokens": 1218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.tsx": {
            "lines": 17,
            "tokens": 128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.test.tsx": {
            "lines": 99,
            "tokens": 682,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/dashboard/page.tsx": {
            "lines": 87,
            "tokens": 766,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/chat/page.tsx": {
            "lines": 13,
            "tokens": 92,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthRedirect.test.tsx": {
            "lines": 118,
            "tokens": 562,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthForm.test.tsx": {
            "lines": 184,
            "tokens": 1485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MarkdownMessage.tsx": {
            "lines": 59,
            "tokens": 593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ConversationList.tsx": {
            "lines": 378,
            "tokens": 2946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatInterface.tsx": {
            "lines": 399,
            "tokens": 3194,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatGPTInterface.tsx": {
            "lines": 297,
            "tokens": 2560,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/page.tsx": {
            "lines": 35,
            "tokens": 236,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/layout.tsx": {
            "lines": 33,
            "tokens": 217,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 2931,
          "tokens": 23660,
          "sources": 28,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 13019,
      "tokens": 102299,
      "sources": 92,
      "clones": 10,
      "duplicatedLines": 127,
      "duplicatedTokens": 1148,
      "percentage": 0.98,
      "percentageTokens": 1.12,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId\n      })\n      return sessionResult.error || NextResponse.json(\n        { error: AUTHENTICATION_REQUIRED_ERROR },\n        { status: 401 }\n      )\n    }\n\n    const userId = sessionResult.session.user.id\n\n    // Validate conversation ownership\n    const ownershipResult = await validateConversationOwnership(conversationId, userId)\n    if (!ownershipResult.success || !ownershipResult.isOwner) {\n      const duration = timer()\n      logger.warn('Conversation update access denied'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 159,
        "end": 175,
        "startLoc": {
          "line": 159,
          "column": 40,
          "position": 1251
        },
        "endLoc": {
          "line": 175,
          "column": 36,
          "position": 1385
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 37,
        "end": 53,
        "startLoc": {
          "line": 37,
          "column": 37,
          "position": 274
        },
        "endLoc": {
          "line": 53,
          "column": 29,
          "position": 408
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId,\n        userId,\n        ...(ownershipResult.error && { error: new Error(ownershipResult.error) })\n      })\n      return NextResponse.json(\n        { error: CONVERSATION_NOT_FOUND_ERROR },\n        { status: 404 }\n      )\n    }\n\n    // Parse and validate request body",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 175,
        "end": 187,
        "startLoc": {
          "line": 175,
          "column": 36,
          "position": 1386
        },
        "endLoc": {
          "line": 187,
          "column": 35,
          "position": 1475
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 53,
        "end": 65,
        "startLoc": {
          "line": 53,
          "column": 29,
          "position": 409
        },
        "endLoc": {
          "line": 65,
          "column": 24,
          "position": 498
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId\n      })\n      return sessionResult.error || NextResponse.json(\n        { error: AUTHENTICATION_REQUIRED_ERROR },\n        { status: 401 }\n      )\n    }\n\n    const userId = sessionResult.session.user.id\n\n    // Validate conversation ownership\n    const ownershipResult = await validateConversationOwnership(conversationId, userId)\n    if (!ownershipResult.success || !ownershipResult.isOwner) {\n      const duration = timer()\n      logger.warn('Conversation delete access denied'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 282,
        "end": 298,
        "startLoc": {
          "line": 282,
          "column": 40,
          "position": 2215
        },
        "endLoc": {
          "line": 298,
          "column": 36,
          "position": 2349
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 37,
        "end": 53,
        "startLoc": {
          "line": 37,
          "column": 37,
          "position": 274
        },
        "endLoc": {
          "line": 53,
          "column": 29,
          "position": 408
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId,\n        userId,\n        ...(ownershipResult.error && { error: new Error(ownershipResult.error) })\n      })\n      return NextResponse.json(\n        { error: CONVERSATION_NOT_FOUND_ERROR },\n        { status: 404 }\n      )\n    }\n\n    logger",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 298,
        "end": 310,
        "startLoc": {
          "line": 298,
          "column": 36,
          "position": 2350
        },
        "endLoc": {
          "line": 310,
          "column": 7,
          "position": 2439
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 53,
        "end": 65,
        "startLoc": {
          "line": 53,
          "column": 29,
          "position": 409
        },
        "endLoc": {
          "line": 65,
          "column": 24,
          "position": 498
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", 'conversation', conversationId, undefined, {\n      processingTime: duration\n    })\n\n    return { success: true }\n  } catch (err) {\n    const duration = timer()\n    const error = err instanceof Error ? err : new Error(CONVERSATION_MESSAGES.UNKNOWN_ERROR)\n\n    logger.error('Failed to archive conversation'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\utils\\conversations.ts",
        "start": 597,
        "end": 606,
        "startLoc": {
          "line": 597,
          "column": 11,
          "position": 4628
        },
        "endLoc": {
          "line": 606,
          "column": 33,
          "position": 4720
        }
      },
      "secondFile": {
        "name": "src\\lib\\utils\\conversations.ts",
        "start": 258,
        "end": 267,
        "startLoc": {
          "line": 258,
          "column": 10,
          "position": 1957
        },
        "endLoc": {
          "line": 267,
          "column": 32,
          "position": 2049
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "if (filters?.dateRange) {\r\n      where.date = {\r\n        gte: filters.dateRange.start,\r\n        lte: filters.dateRange.end\r\n      }\r\n    }\r\n\r\n    if (filters?.locationIds && filters.locationIds.length > 0) {\r\n      where.locationId = {\r\n        in: filters.locationIds\r\n      }\r\n    }\r\n\r\n    // Add item filtering - if specific items are requested, filter by those items",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 239,
        "end": 252,
        "startLoc": {
          "line": 239,
          "column": 5,
          "position": 1933
        },
        "endLoc": {
          "line": 252,
          "column": 79,
          "position": 2043
        }
      },
      "secondFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 169,
        "end": 182,
        "startLoc": {
          "line": 169,
          "column": 5,
          "position": 1332
        },
        "endLoc": {
          "line": 182,
          "column": 3,
          "position": 1442
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", undefined, this.serializeFilters(filters))\r\n\r\n    const where: Prisma.SaleWhereInput = {}\r\n\r\n    if (filters?.dateRange) {\r\n      where.date = {\r\n        gte: filters.dateRange.start,\r\n        lte: filters.dateRange.end\r\n      }\r\n    }\r\n\r\n    if (filters?.locationIds && filters.locationIds.length > 0) {\r\n      where.locationId = {\r\n        in: filters.locationIds\r\n      }\r\n    }\r\n\r\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 363,
        "end": 380,
        "startLoc": {
          "line": 363,
          "column": 29,
          "position": 2898
        },
        "endLoc": {
          "line": 380,
          "column": 7,
          "position": 3043
        }
      },
      "secondFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 235,
        "end": 182,
        "startLoc": {
          "line": 235,
          "column": 31,
          "position": 1898
        },
        "endLoc": {
          "line": 182,
          "column": 3,
          "position": 1442
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ")) {\n    if (value === null || value === undefined) {\n      serialized[key] = null\n    } else if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n      serialized[key] = value\n    } else if (value instanceof Date) {\n      serialized[key] = value.toISOString()\n    } else if (Array.isArray(value)) {\n      serialized[key] = value.join(', ')\n    } else if",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\ai\\dataQueryHandler.ts",
        "start": 65,
        "end": 74,
        "startLoc": {
          "line": 65,
          "column": 8,
          "position": 477
        },
        "endLoc": {
          "line": 74,
          "column": 3,
          "position": 631
        }
      },
      "secondFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 67,
        "end": 76,
        "startLoc": {
          "line": 67,
          "column": 2,
          "position": 511
        },
        "endLoc": {
          "line": 76,
          "column": 2,
          "position": 674
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n        model: this.model,\n        tokens: result.metadata.tokens,\n        cost: result.metadata.cost\n      })\n\n      return result\n    } catch (err) {\n      const duration = timer()\n      const error = err instanceof Error ? err : new Error(UNKNOWN_ERROR_MESSAGE)\n\n      logger.error('Clarification processing failed'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\ai\\clarificationHandler.ts",
        "start": 141,
        "end": 152,
        "startLoc": {
          "line": 141,
          "column": 17,
          "position": 886
        },
        "endLoc": {
          "line": 152,
          "column": 34,
          "position": 982
        }
      },
      "secondFile": {
        "name": "src\\lib\\ai\\generalChatHandler.ts",
        "start": 153,
        "end": 164,
        "startLoc": {
          "line": 153,
          "column": 2,
          "position": 1097
        },
        "endLoc": {
          "line": 164,
          "column": 35,
          "position": 1193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n        metadata: {\n          model: this.model,\n          tokens: response.metadata.tokens,\n          cost: response.metadata.cost,\n          processingTime: duration\n        }\n      }\n    } catch (err) {\n      const duration = timer()\n      const error = err instanceof Error ? err : new Error(UNKNOWN_ERROR_MESSAGE)\n\n      logger.error('Clarifying questions generation failed'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\ai\\clarificationHandler.ts",
        "start": 408,
        "end": 420,
        "startLoc": {
          "line": 408,
          "column": 2,
          "position": 3008
        },
        "endLoc": {
          "line": 420,
          "column": 41,
          "position": 3113
        }
      },
      "secondFile": {
        "name": "src\\lib\\ai\\generalChatHandler.ts",
        "start": 465,
        "end": 477,
        "startLoc": {
          "line": 465,
          "column": 12,
          "position": 3690
        },
        "endLoc": {
          "line": 477,
          "column": 36,
          "position": 3795
        }
      }
    }
  ],
  "filename": "C:\\Users\\david\\Documents\\jeffaisquared\\node_modules\\@jscpd\\html-reporter\\dist\\templates\\main.pug"
}