{
  "statistics": {
    "detectionDate": "2025-09-19T13:53:04.992Z",
    "formats": {
      "typescript": {
        "sources": {
          "src/app/api/conversations/[id]/route.ts": {
            "lines": 354,
            "tokens": 2775,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 112,
            "duplicatedTokens": 892,
            "percentage": 31.64,
            "percentageTokens": 32.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/session/route.ts": {
            "lines": 33,
            "tokens": 342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/session/route.test.ts": {
            "lines": 85,
            "tokens": 699,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/reset-password/route.ts": {
            "lines": 43,
            "tokens": 363,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/reset-password/route.test.ts": {
            "lines": 201,
            "tokens": 1192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/register/route.ts": {
            "lines": 8,
            "tokens": 85,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/register/route.test.ts": {
            "lines": 45,
            "tokens": 208,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/logout/route.ts": {
            "lines": 30,
            "tokens": 264,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/logout/route.test.ts": {
            "lines": 118,
            "tokens": 975,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/login/route.ts": {
            "lines": 39,
            "tokens": 400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/login/route.test.ts": {
            "lines": 184,
            "tokens": 1277,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/forgot-password/route.ts": {
            "lines": 31,
            "tokens": 277,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/forgot-password/route.test.ts": {
            "lines": 143,
            "tokens": 946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/conversations/route.ts": {
            "lines": 201,
            "tokens": 1545,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/chat/route.ts": {
            "lines": 524,
            "tokens": 4512,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/validation/schemas.ts": {
            "lines": 267,
            "tokens": 3112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/typeGuards.ts": {
            "lines": 195,
            "tokens": 1390,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/serialization.ts": {
            "lines": 170,
            "tokens": 1438,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/logger.ts": {
            "lines": 299,
            "tokens": 2716,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/conversations.ts": {
            "lines": 681,
            "tokens": 5298,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 184,
            "percentage": 2.64,
            "percentageTokens": 3.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/prisma/safeQueryBuilder.ts": {
            "lines": 420,
            "tokens": 3333,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 69,
            "duplicatedTokens": 673,
            "percentage": 16.43,
            "percentageTokens": 20.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/index.ts": {
            "lines": 88,
            "tokens": 511,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/errors.ts": {
            "lines": 115,
            "tokens": 721,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/ai.ts": {
            "lines": 45,
            "tokens": 314,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/intentClassifier.ts": {
            "lines": 573,
            "tokens": 3731,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/generalChatHandler.ts": {
            "lines": 662,
            "tokens": 5460,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 224,
            "percentage": 3.47,
            "percentageTokens": 4.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/dataQueryHandler.ts": {
            "lines": 799,
            "tokens": 6769,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 163,
            "percentage": 1.13,
            "percentageTokens": 2.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/clarificationHandler.ts": {
            "lines": 581,
            "tokens": 4669,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 224,
            "percentage": 3.96,
            "percentageTokens": 4.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/prisma-extensions.ts": {
            "lines": 123,
            "tokens": 935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/openai.ts": {
            "lines": 97,
            "tokens": 593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/chat.ts": {
            "lines": 346,
            "tokens": 2585,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/test-utils.ts": {
            "lines": 473,
            "tokens": 4042,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/setup.ts": {
            "lines": 28,
            "tokens": 215,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/registration-handler.ts": {
            "lines": 74,
            "tokens": 643,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/registration-handler.test.ts": {
            "lines": 209,
            "tokens": 1731,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/profile-utils.ts": {
            "lines": 40,
            "tokens": 271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/profile-utils.test.ts": {
            "lines": 92,
            "tokens": 533,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth-api-utils.ts": {
            "lines": 102,
            "tokens": 942,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth-api-utils.test.ts": {
            "lines": 306,
            "tokens": 2855,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthRedirect.ts": {
            "lines": 34,
            "tokens": 265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthForm.ts": {
            "lines": 69,
            "tokens": 649,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware.ts": {
            "lines": 71,
            "tokens": 439,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware.test.ts": {
            "lines": 150,
            "tokens": 1254,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 9148,
          "tokens": 73274,
          "sources": 43,
          "clones": 10,
          "duplicatedLines": 127,
          "duplicatedTokens": 1180,
          "percentage": 1.39,
          "percentageTokens": 1.61,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "src/app/auth/reset-password/page.tsx": {
            "lines": 51,
            "tokens": 366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/register/page.tsx": {
            "lines": 36,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/login/page.tsx": {
            "lines": 18,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/forgot-password/page.tsx": {
            "lines": 17,
            "tokens": 120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/NavLinkItem.tsx": {
            "lines": 16,
            "tokens": 84,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/Navbar.tsx": {
            "lines": 7,
            "tokens": 62,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/MobileNav.tsx": {
            "lines": 16,
            "tokens": 119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/LogoLink.tsx": {
            "lines": 1,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/HamburgerToggle.tsx": {
            "lines": 18,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/DesktopNav.tsx": {
            "lines": 3,
            "tokens": 27,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/LoadingSpinner.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthMessages.test.tsx": {
            "lines": 100,
            "tokens": 839,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthLayout.test.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.tsx": {
            "lines": 9,
            "tokens": 57,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.test.tsx": {
            "lines": 40,
            "tokens": 353,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.tsx": {
            "lines": 7,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.test.tsx": {
            "lines": 96,
            "tokens": 826,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthEmailPasswordInputs.test.tsx": {
            "lines": 89,
            "tokens": 749,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.tsx": {
            "lines": 0,
            "tokens": 5,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.test.tsx": {
            "lines": 10,
            "tokens": 77,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/dashboard/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/chat/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MarkdownMessage.tsx": {
            "lines": 19,
            "tokens": 285,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ConversationList.tsx": {
            "lines": 130,
            "tokens": 974,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatInterface.tsx": {
            "lines": 104,
            "tokens": 833,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatGPTInterface.tsx": {
            "lines": 205,
            "tokens": 1787,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/layout.tsx": {
            "lines": 0,
            "tokens": 27,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 992,
          "tokens": 8127,
          "sources": 27,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "tsx": {
        "sources": {
          "src/app/auth/reset-password/page.tsx": {
            "lines": 143,
            "tokens": 1231,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/register/page.tsx": {
            "lines": 85,
            "tokens": 707,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/login/page.tsx": {
            "lines": 56,
            "tokens": 458,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/forgot-password/page.tsx": {
            "lines": 65,
            "tokens": 551,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/NavLinkItem.tsx": {
            "lines": 70,
            "tokens": 395,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/Navbar.tsx": {
            "lines": 96,
            "tokens": 770,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 127,
            "percentage": 11.46,
            "percentageTokens": 16.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/MobileNav.tsx": {
            "lines": 44,
            "tokens": 261,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/LogoLink.tsx": {
            "lines": 18,
            "tokens": 113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/HamburgerToggle.tsx": {
            "lines": 36,
            "tokens": 193,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/navbar/DesktopNav.tsx": {
            "lines": 26,
            "tokens": 167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/LoadingSpinner.tsx": {
            "lines": 10,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/LoadingSpinner.test.tsx": {
            "lines": 28,
            "tokens": 325,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthMessages.tsx": {
            "lines": 20,
            "tokens": 147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthMessages.test.tsx": {
            "lines": 117,
            "tokens": 1005,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthLayout.tsx": {
            "lines": 18,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthLayout.test.tsx": {
            "lines": 148,
            "tokens": 1191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.tsx": {
            "lines": 39,
            "tokens": 252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthInput.test.tsx": {
            "lines": 95,
            "tokens": 874,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.tsx": {
            "lines": 49,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthFormFooter.test.tsx": {
            "lines": 129,
            "tokens": 1138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthEmailPasswordInputs.tsx": {
            "lines": 70,
            "tokens": 596,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthEmailPasswordInputs.test.tsx": {
            "lines": 144,
            "tokens": 1218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.tsx": {
            "lines": 17,
            "tokens": 128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/AuthButton.test.tsx": {
            "lines": 99,
            "tokens": 682,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/dashboard/page.tsx": {
            "lines": 55,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 127,
            "percentage": 20,
            "percentageTokens": 25.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/chat/page.tsx": {
            "lines": 13,
            "tokens": 92,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthRedirect.test.tsx": {
            "lines": 118,
            "tokens": 562,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuthForm.test.tsx": {
            "lines": 184,
            "tokens": 1485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MarkdownMessage.tsx": {
            "lines": 63,
            "tokens": 615,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ConversationList.tsx": {
            "lines": 378,
            "tokens": 2946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatInterface.tsx": {
            "lines": 399,
            "tokens": 3194,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChatGPTInterface.tsx": {
            "lines": 297,
            "tokens": 2560,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/page.tsx": {
            "lines": 49,
            "tokens": 326,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/layout.tsx": {
            "lines": 47,
            "tokens": 355,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 3225,
          "tokens": 25577,
          "sources": 34,
          "clones": 1,
          "duplicatedLines": 11,
          "duplicatedTokens": 127,
          "percentage": 0.34,
          "percentageTokens": 0.5,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 13365,
      "tokens": 106978,
      "sources": 104,
      "clones": 11,
      "duplicatedLines": 138,
      "duplicatedTokens": 1307,
      "percentage": 1.03,
      "percentageTokens": 1.22,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId\n      })\n      return sessionResult.error || NextResponse.json(\n        { error: AUTHENTICATION_REQUIRED_ERROR },\n        { status: 401 }\n      )\n    }\n\n    const userId = sessionResult.session.user.id\n\n    // Validate conversation ownership\n    const ownershipResult = await validateConversationOwnership(conversationId, userId)\n    if (!ownershipResult.success || !ownershipResult.isOwner) {\n      const duration = timer()\n      logger.warn('Conversation update access denied'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 159,
        "end": 175,
        "startLoc": {
          "line": 159,
          "column": 40,
          "position": 1251
        },
        "endLoc": {
          "line": 175,
          "column": 36,
          "position": 1385
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 37,
        "end": 53,
        "startLoc": {
          "line": 37,
          "column": 37,
          "position": 274
        },
        "endLoc": {
          "line": 53,
          "column": 29,
          "position": 408
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId,\n        userId,\n        ...(ownershipResult.error && { error: new Error(ownershipResult.error) })\n      })\n      return NextResponse.json(\n        { error: CONVERSATION_NOT_FOUND_ERROR },\n        { status: 404 }\n      )\n    }\n\n    // Parse and validate request body",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 175,
        "end": 187,
        "startLoc": {
          "line": 175,
          "column": 36,
          "position": 1386
        },
        "endLoc": {
          "line": 187,
          "column": 35,
          "position": 1475
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 53,
        "end": 65,
        "startLoc": {
          "line": 53,
          "column": 29,
          "position": 409
        },
        "endLoc": {
          "line": 65,
          "column": 24,
          "position": 498
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId\n      })\n      return sessionResult.error || NextResponse.json(\n        { error: AUTHENTICATION_REQUIRED_ERROR },\n        { status: 401 }\n      )\n    }\n\n    const userId = sessionResult.session.user.id\n\n    // Validate conversation ownership\n    const ownershipResult = await validateConversationOwnership(conversationId, userId)\n    if (!ownershipResult.success || !ownershipResult.isOwner) {\n      const duration = timer()\n      logger.warn('Conversation delete access denied'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 282,
        "end": 298,
        "startLoc": {
          "line": 282,
          "column": 40,
          "position": 2215
        },
        "endLoc": {
          "line": 298,
          "column": 36,
          "position": 2349
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 37,
        "end": 53,
        "startLoc": {
          "line": 37,
          "column": 37,
          "position": 274
        },
        "endLoc": {
          "line": 53,
          "column": 29,
          "position": 408
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", undefined, {\n        processingTime: duration,\n        conversationId,\n        userId,\n        ...(ownershipResult.error && { error: new Error(ownershipResult.error) })\n      })\n      return NextResponse.json(\n        { error: CONVERSATION_NOT_FOUND_ERROR },\n        { status: 404 }\n      )\n    }\n\n    logger",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 298,
        "end": 310,
        "startLoc": {
          "line": 298,
          "column": 36,
          "position": 2350
        },
        "endLoc": {
          "line": 310,
          "column": 7,
          "position": 2439
        }
      },
      "secondFile": {
        "name": "src\\app\\api\\conversations\\[id]\\route.ts",
        "start": 53,
        "end": 65,
        "startLoc": {
          "line": 53,
          "column": 29,
          "position": 409
        },
        "endLoc": {
          "line": 65,
          "column": 24,
          "position": 498
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", 'conversation', conversationId, undefined, {\n      processingTime: duration\n    })\n\n    return { success: true }\n  } catch (err) {\n    const duration = timer()\n    const error = err instanceof Error ? err : new Error(CONVERSATION_MESSAGES.UNKNOWN_ERROR)\n\n    logger.error('Failed to archive conversation'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\utils\\conversations.ts",
        "start": 597,
        "end": 606,
        "startLoc": {
          "line": 597,
          "column": 11,
          "position": 4631
        },
        "endLoc": {
          "line": 606,
          "column": 33,
          "position": 4723
        }
      },
      "secondFile": {
        "name": "src\\lib\\utils\\conversations.ts",
        "start": 258,
        "end": 267,
        "startLoc": {
          "line": 258,
          "column": 10,
          "position": 1957
        },
        "endLoc": {
          "line": 267,
          "column": 32,
          "position": 2049
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "if (filters?.dateRange) {\r\n      where.date = {\r\n        gte: filters.dateRange.start,\r\n        lte: filters.dateRange.end\r\n      }\r\n    }\r\n\r\n    if (filters?.locationIds && filters.locationIds.length > 0) {\r\n      where.locationId = {\r\n        in: filters.locationIds\r\n      }\r\n    }\r\n\r\n    // Add item filtering - if specific items are requested, filter by those items",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 239,
        "end": 252,
        "startLoc": {
          "line": 239,
          "column": 5,
          "position": 1933
        },
        "endLoc": {
          "line": 252,
          "column": 79,
          "position": 2043
        }
      },
      "secondFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 169,
        "end": 182,
        "startLoc": {
          "line": 169,
          "column": 5,
          "position": 1332
        },
        "endLoc": {
          "line": 182,
          "column": 3,
          "position": 1442
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", undefined, this.serializeFilters(filters))\r\n\r\n    const where: Prisma.SaleWhereInput = {}\r\n\r\n    if (filters?.dateRange) {\r\n      where.date = {\r\n        gte: filters.dateRange.start,\r\n        lte: filters.dateRange.end\r\n      }\r\n    }\r\n\r\n    if (filters?.locationIds && filters.locationIds.length > 0) {\r\n      where.locationId = {\r\n        in: filters.locationIds\r\n      }\r\n    }\r\n\r\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 363,
        "end": 380,
        "startLoc": {
          "line": 363,
          "column": 29,
          "position": 2898
        },
        "endLoc": {
          "line": 380,
          "column": 7,
          "position": 3043
        }
      },
      "secondFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 235,
        "end": 182,
        "startLoc": {
          "line": 235,
          "column": 31,
          "position": 1898
        },
        "endLoc": {
          "line": 182,
          "column": 3,
          "position": 1442
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ")) {\r\n    if (value === null || value === undefined) {\r\n      serialized[key] = null\r\n    } else if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\r\n      serialized[key] = value\r\n    } else if (value instanceof Date) {\r\n      serialized[key] = value.toISOString()\r\n    } else if (Array.isArray(value)) {\r\n      serialized[key] = value.join(', ')\r\n    } else if",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\ai\\dataQueryHandler.ts",
        "start": 64,
        "end": 73,
        "startLoc": {
          "line": 64,
          "column": 8,
          "position": 534
        },
        "endLoc": {
          "line": 73,
          "column": 3,
          "position": 697
        }
      },
      "secondFile": {
        "name": "src\\lib\\prisma\\safeQueryBuilder.ts",
        "start": 67,
        "end": 76,
        "startLoc": {
          "line": 67,
          "column": 2,
          "position": 511
        },
        "endLoc": {
          "line": 76,
          "column": 2,
          "position": 674
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\r\n        model: this.model,\r\n        tokens: result.metadata.tokens,\r\n        cost: result.metadata.cost\r\n      })\r\n\r\n      return result\r\n    } catch (err) {\r\n      const duration = timer()\r\n      const error = err instanceof Error ? err : new Error(UNKNOWN_ERROR_MESSAGE)\r\n\r\n      logger.error('Clarification processing failed'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\ai\\clarificationHandler.ts",
        "start": 139,
        "end": 150,
        "startLoc": {
          "line": 139,
          "column": 17,
          "position": 1011
        },
        "endLoc": {
          "line": 150,
          "column": 34,
          "position": 1118
        }
      },
      "secondFile": {
        "name": "src\\lib\\ai\\generalChatHandler.ts",
        "start": 152,
        "end": 163,
        "startLoc": {
          "line": 152,
          "column": 2,
          "position": 1234
        },
        "endLoc": {
          "line": 163,
          "column": 35,
          "position": 1341
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\r\n        metadata: {\r\n          model: this.model,\r\n          tokens: response.metadata.tokens,\r\n          cost: response.metadata.cost,\r\n          processingTime: duration\r\n        }\r\n      }\r\n    } catch (err) {\r\n      const duration = timer()\r\n      const error = err instanceof Error ? err : new Error(UNKNOWN_ERROR_MESSAGE)\r\n\r\n      logger.error('Clarifying questions generation failed'",
      "tokens": 0,
      "firstFile": {
        "name": "src\\lib\\ai\\clarificationHandler.ts",
        "start": 406,
        "end": 418,
        "startLoc": {
          "line": 406,
          "column": 2,
          "position": 3387
        },
        "endLoc": {
          "line": 418,
          "column": 41,
          "position": 3504
        }
      },
      "secondFile": {
        "name": "src\\lib\\ai\\generalChatHandler.ts",
        "start": 464,
        "end": 476,
        "startLoc": {
          "line": 464,
          "column": 12,
          "position": 4122
        },
        "endLoc": {
          "line": 476,
          "column": 36,
          "position": 4239
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ")\r\n  const router = useRouter()\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const response = await fetch('/api/auth/session', {\r\n          credentials: 'include'\r\n        })\r\n        const data = await response.json() as { authenticated: boolean; user?: User; error?: string }\r\n\r\n        if (!",
      "tokens": 0,
      "firstFile": {
        "name": "src\\app\\dashboard\\page.tsx",
        "start": 12,
        "end": 23,
        "startLoc": {
          "line": 12,
          "column": 5,
          "position": 135
        },
        "endLoc": {
          "line": 23,
          "column": 2,
          "position": 262
        }
      },
      "secondFile": {
        "name": "src\\components\\navbar\\Navbar.tsx",
        "start": 16,
        "end": 27,
        "startLoc": {
          "line": 16,
          "column": 2,
          "position": 171
        },
        "endLoc": {
          "line": 27,
          "column": 9,
          "position": 287
        }
      }
    }
  ],
  "filename": "C:\\Users\\david\\Documents\\jeffaisquared\\node_modules\\@jscpd\\html-reporter\\dist\\templates\\main.pug"
}